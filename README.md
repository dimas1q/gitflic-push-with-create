# Скрипт для автоматического создания репозитория при пуше

Данный скрипт позволяет настроить автоматическое создание репозитория в GitFlic при пуше, если репозиторий отсутствует

## Использование

**1.** [Загрузите скрипт](https://gitflic.ru/project/dshitov/gitflic-push-with-create/release/22731024-b03f-4c8c-afe8-fcfcf7f6114e/08f6b2db-c08d-4f47-9893-136c78f64309/download) из репозитория и поместите в любую удобную директорию (например, в домашнюю)

Отредактируйте скрипт: в параметре GITFLIC_TOKEN укажите ваш токен API, в параметре OWNER_TYPE укажите тип владельца репозитория, который необходимо создать при его отсутствии:

``` bash
# Токен для доступа к API
GITFLIC_TOKEN="TOKEN"
# Тип владельца проекта - USER, TEAM или COMPANY
OWNER_TYPE="USER"
```

**2.** Сделайте скрипт исполняемым

``` bash
chmod +x ~/gitflic-pre-push.sh
```

**3.** Добавьте новую команду `push-with-create` в git (указываем в команде путь к .sh файлу):

``` bash
git config --global alias.push-with-create '!f() { ~/gitflic-pre-push.sh "$@"; }; f'
```

**4.** Выполните `git init`, сделайте коммит, и добавьте remote в вашем репозитории

Предполагается, что добавленный remote отсутствует в GitFlic

**5.** Выполняйте первый пуш командой:

``` bash
git push-with-create -u origin main
```

Скрипт сработает для любой версии GitFlic (облачная или Self-Hosted) и поддерживает HTTPS/SSH Remote.
